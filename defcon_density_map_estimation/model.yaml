format_version: 0.3.0
name: DEFCoN density map estimation
description: Density Estimation by Fully Convolutional Networks (DEFCoN) - A fluorescent spot counter for single molecule localization microscopy. DEFCoN was written by Baptiste Ottino as a Master's thesis project under the guidance of Kyle M. Douglass and Suliana Manley in the Laboratory of Experimental Biophysics.
timestamp: 2021-02-17T10:13:32.618903
authors:
  - Baptiste Ottino
  - Kyle M. Douglass
  - Suliana Manley
documentation: https://github.com/LEB-EPFL/DEFCoN-ImageJ/wiki.
covers: [./cover_image.jpg]
tags:
  - deepimagej
  - smlm
  - defcon
  - density estimation
license: BSD 3
language: java
framework: tensorflow
git_repo: https://github.com/LEB-EPFL/DEFCoN
test_inputs:
  - ./exampleImage.tiff
test_outputs:
  - ./resultImage.tiff
sample_inputs:
  - ./exampleImage.npy
sample_outputs:
  - ./resultImage.npy
weights:
  tensorflow_saved_model_bundle:
    source: https://zenodo.org/record/4545183/files/tensorflow_saved_model_bundle.zip
    sha256: 9306b92b24fd76c4a2be73b94db3462bab2665f16406d1eacce591b05765d119
  tensorflow_js:
    source: https://raw.githubusercontent.com/deepimagej/tensorflow-js-models/main/defcon_density_map_estimation_tf_js_model/model.json
    sha256: d1427f81f1fb217c127ef01ed992b6a9dc11d3a5b552514cfdccd82c01230e21
inputs:
  - name: input
    axes: byxc
    data_type: float32
    data_range: [-inf, inf]
    shape:
      min: [1, 1, 1, 1]
      step: [0, 1, 1, 0]
    preprocessing:
      - name: scale_range
        kwargs:
          mode: per_sample
          axes: xy
          min_percentile: 0
          max_percentile: 100
outputs:
  - name: output
    axes: byxc
    data_type: float32
    data_range: [0, 1]
    halo: [0, 10, 10, 0]
    shape:
      reference_input: input
      scale: [1, 1, 1, 1]
      offset: [0, 0, 0, 0]
config:
# custom config for DeepImageJ, see https://github.com/bioimage-io/configuration/issues/23
  deepimagej:
    pyramidal_model: false
    allow_tiling: true
    model_keys:
      model_tag: tf.saved_model.tag_constants.SERVING
      signature_definition: tf.saved_model.signature_constants.DEFAULT_SERVING_SIGNATURE_DEF_KEY
    test_information:
      inputs:
        - name: exampleImage.tiff
          size: 64 x 64 x 1 x 1
          pixel_size:
            x: 1 pixel
            y: 1 pixel
            z: 1.0 pixel
      outputs:
        - name: resultImage.tiff
          type: image
          size: 64 x 64 x 1 x 1
      memory_peak: 62.9 Mb
      runtime: 0.1 s
    prediction:
      preprocess:
      -   spec: ij.IJ::runMacroFile
          kwargs: preprocessing.txt
      postprocess:
      -   spec: ij.IJ::runMacroFile
          kwargs: postprocessing.txt
